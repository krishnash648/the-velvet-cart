"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[653],{1653:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var t=a(9379),r=a(5043),l=a(2603),i=a(1515),n=a(1283),c=a(2339),d=a(5487),o=a(579);const m=()=>{const{cart:e,clearCart:s}=(0,l._)(),{user:a,addOrder:m}=(0,i.A)(),u=(0,n.Zp)(),[x,h]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",payment:"cod",cardNumber:"",cardExpiry:"",cardCvv:""}),[p,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{0===e.length&&((0,c.Ay)("Your cart is empty! Start shopping \ud83c\udf81"),u("/")),a||((0,c.Ay)("Please login to checkout"),u("/"))},[e,u,a]);const g=e.reduce((e,s)=>e+s.price*s.quantity,0),y=g>5e3?0:299,f=.18*g,j=g+y+f,N=e=>{h((0,t.A)((0,t.A)({},x),{},{[e.target.name]:e.target.value}))},v=async a=>{if(a.preventDefault(),!(()=>{const e=["firstName","lastName","email","phone","address","city","state","pincode"];for(const s of e)if(!x[s])return c.Ay.error("Please fill in ".concat(s.replace(/([A-Z])/g," $1").toLowerCase())),!1;return!!("card"!==x.payment||x.cardNumber&&x.cardExpiry&&x.cardCvv)||(c.Ay.error("Please fill in all card details"),!1)})())return;b(!0),await new Promise(e=>setTimeout(e,2e3));const t={items:e,total:j,shipping:y,tax:f,paymentMethod:x.payment,shippingAddress:{firstName:x.firstName,lastName:x.lastName,email:x.email,phone:x.phone,address:x.address,city:x.city,state:x.state,pincode:x.pincode}};m(t),c.Ay.success("\ud83c\udf89 Order placed successfully!"),s(),u("/"),b(!1)};return(0,o.jsx)(d.P.div,{className:"min-h-screen bg-night text-white p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:(0,o.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Checkout"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,o.jsxs)(d.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 backdrop-blur-sm border border-white/10",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Shipping Information"}),(0,o.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),(0,o.jsx)("input",{type:"text",name:"firstName",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.firstName,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),(0,o.jsx)("input",{type:"text",name:"lastName",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.lastName,onChange:N})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),(0,o.jsx)("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.email,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone *"}),(0,o.jsx)("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.phone,onChange:N})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Address *"}),(0,o.jsx)("textarea",{name:"address",rows:"3",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.address,onChange:N})]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"City *"}),(0,o.jsx)("input",{type:"text",name:"city",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.city,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"State *"}),(0,o.jsx)("input",{type:"text",name:"state",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.state,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Pincode *"}),(0,o.jsx)("input",{type:"text",name:"pincode",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.pincode,onChange:N})]})]})]})]}),(0,o.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 backdrop-blur-sm border border-white/10",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),(0,o.jsx)("div",{className:"space-y-3",children:[{id:"cod",label:"Cash on Delivery",icon:"\ud83d\udcb5"},{id:"upi",label:"UPI / Digital Wallet",icon:"\ud83d\udcf1"},{id:"card",label:"Credit/Debit Card",icon:"\ud83d\udcb3"},{id:"netbanking",label:"Net Banking",icon:"\ud83c\udfe6"}].map(e=>(0,o.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-600 hover:bg-white/5 cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",name:"payment",value:e.id,checked:x.payment===e.id,onChange:N,className:"text-blush"}),(0,o.jsx)("span",{className:"text-xl",children:e.icon}),(0,o.jsx)("span",{children:e.label})]},e.id))}),"card"===x.payment&&(0,o.jsxs)(d.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 space-y-4 pt-4 border-t border-gray-600",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Card Number"}),(0,o.jsx)("input",{type:"text",name:"cardNumber",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.cardNumber,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"CVV"}),(0,o.jsx)("input",{type:"text",name:"cardCvv",placeholder:"123",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.cardCvv,onChange:N})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Expiry Date"}),(0,o.jsx)("input",{type:"text",name:"cardExpiry",placeholder:"MM/YY",className:"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blush text-white",value:x.cardExpiry,onChange:N})]})]})]}),(0,o.jsx)("button",{type:"submit",disabled:p,className:"w-full py-3 px-6 rounded-lg font-semibold text-lg transition-all ".concat(p?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-velvet hover:bg-purple-700 text-white hover:scale-105"),onClick:v,children:p?"Processing...":"Place Order"}),(0,o.jsx)("button",{onClick:()=>{const e={key:"rzp_test_SfyxaliFLVyZO2",amount:Math.round(100*j),currency:"INR",name:"The Velvet Cart",description:"Order Payment",image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",handler:function(e){alert("Payment successful! Payment ID: "+e.razorpay_payment_id)},prefill:{name:x.firstName+" "+x.lastName,email:x.email,contact:x.phone},theme:{color:"#6366f1"}};new window.Razorpay(e).open()},style:{marginTop:16,padding:"12px 24px",background:"#6366f1",color:"#fff",border:"none",borderRadius:4,fontSize:16,cursor:"pointer"},children:"Pay with Razorpay"})]}),(0,o.jsx)(d.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:(0,o.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 backdrop-blur-sm border border-white/10 sticky top-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,o.jsx)("div",{className:"space-y-3 mb-6",children:e.map(e=>(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded-lg"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium",children:e.name}),(0,o.jsxs)("p",{className:"text-sm text-gray-400",children:["Qty: ",e.quantity]})]})]}),(0,o.jsxs)("p",{className:"font-semibold",children:["\u20b9",(e.price*e.quantity).toLocaleString()]})]},e.id))}),(0,o.jsxs)("div",{className:"border-t border-gray-600 pt-4 space-y-2",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"Subtotal"}),(0,o.jsxs)("span",{children:["\u20b9",g.toLocaleString()]})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"Shipping"}),(0,o.jsx)("span",{className:0===y?"text-green-400":"",children:0===y?"Free":"\u20b9".concat(y)})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-400",children:"Tax (18% GST)"}),(0,o.jsxs)("span",{children:["\u20b9",f.toLocaleString()]})]}),(0,o.jsx)("div",{className:"border-t border-gray-600 pt-2",children:(0,o.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,o.jsx)("span",{children:"Total"}),(0,o.jsxs)("span",{className:"text-blush",children:["\u20b9",j.toLocaleString()]})]})})]}),y>0&&(0,o.jsx)("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3 mt-4",children:(0,o.jsxs)("p",{className:"text-green-400 text-sm",children:["Add \u20b9",(5e3-g).toLocaleString()," more for free shipping!"]})})]})})]})]})})}}}]);
//# sourceMappingURL=653.169f9d9b.chunk.js.map